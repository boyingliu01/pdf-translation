# PDF ç¿»è¯‘å·¥å…· - å®Œæ•´ä½¿ç”¨è¯´æ˜

## ç›®å½•

- [é¡¹ç›®ç®€ä»‹](#é¡¹ç›®ç®€ä»‹)
- [ä¸šç•ŒåŒç±»æ–¹æ¡ˆå¯¹æ¯”](#ä¸šç•ŒåŒç±»æ–¹æ¡ˆå¯¹æ¯”)
- [é¡¹ç›®å®ç°åŸç†](#é¡¹ç›®å®ç°åŸç†)
- [å®‰è£…é…ç½®](#å®‰è£…é…ç½®)
- [å¿«é€Ÿå¼€å§‹](#å¿«é€Ÿå¼€å§‹)
- [è¯¦ç»†ä½¿ç”¨æŒ‡å—](#è¯¦ç»†ä½¿ç”¨æŒ‡å—)
- [ç¿»è¯‘å¼•æ“é…ç½®](#ç¿»è¯‘å¼•æ“é…ç½®)
- [æ€§èƒ½ä¼˜åŒ–](#æ€§èƒ½ä¼˜åŒ–)
- [å¸¸è§é—®é¢˜](#å¸¸è§é—®é¢˜)
- [é™„å½•](#é™„å½•)

---

## é¡¹ç›®ç®€ä»‹

è¿™æ˜¯ä¸€ä¸ªåŸºäº GitHub å¼€æºé¡¹ç›®çš„ä¸“ä¸š PDF ç¿»è¯‘å·¥å…·ï¼Œèƒ½å¤Ÿå°† PDF æ–‡æ¡£ç¿»è¯‘æˆåŒè¯­å¯¹ç…§ç‰ˆæœ¬ï¼ŒåŒæ—¶å®Œæ•´ä¿ç•™åŸå§‹æ’ç‰ˆæ ¼å¼ï¼ŒåŒ…æ‹¬æ•°å­¦å…¬å¼ã€è¡¨æ ¼ã€å›¾å½¢ç­‰å¤æ‚å…ƒç´ ã€‚

### æ ¸å¿ƒç‰¹æ€§

| ç‰¹æ€§ | è¯´æ˜ |
|------|------|
| **åŒè¯­å¯¹ç…§ç¿»è¯‘** | åŸæ–‡å’Œè¯‘æ–‡å¹¶æ’æ˜¾ç¤ºï¼Œä¾¿äºå¯¹ç…§å­¦ä¹  |
| **ä¿æŒåŸå§‹æ’ç‰ˆ** | å®Œæ•´ä¿ç•™å…¬å¼ã€è¡¨æ ¼ã€å›¾å½¢ã€å­—ä½“ç­‰æ ¼å¼ |
| **è‡ªåŠ¨æœ¯è¯­æå–** | è‡ªåŠ¨ç”Ÿæˆä¸“ä¸šæœ¯è¯­è¯æ±‡è¡¨ï¼Œä¾¿äºæœ¯è¯­ç®¡ç† |
| **å¤šå¼•æ“æ”¯æŒ** | æ”¯æŒæ™ºè°±AIã€ç«å±±å¼•æ“ã€ç¡…åŸºæµåŠ¨ã€OpenAI ç­‰ |
| **é«˜æ€§èƒ½** | æ”¯æŒé«˜å¹¶å‘ç¿»è¯‘ï¼Œå¯å¤„ç†æ•°ç™¾é¡µçš„å¤§å‹æ–‡æ¡£ |
| **å®Œå…¨æœ¬åœ°è¿è¡Œ** | é™¤äº† API è°ƒç”¨ï¼Œæ‰€æœ‰å¤„ç†åœ¨æœ¬åœ°å®Œæˆ |

### é€‚ç”¨åœºæ™¯

- ğŸ“š æŠ€æœ¯æ–‡æ¡£ç¿»è¯‘ï¼ˆå¦‚ç”¨æˆ·æ‰‹å†Œã€æŠ€æœ¯è§„èŒƒï¼‰
- ğŸ“ å­¦æœ¯è®ºæ–‡ç¿»è¯‘ï¼ˆä¿æŒå…¬å¼å’Œå¼•ç”¨æ ¼å¼ï¼‰
- ğŸ’¼ å•†ä¸šæ–‡æ¡£ç¿»è¯‘ï¼ˆåˆåŒã€æŠ¥å‘Šç­‰ï¼‰
- ğŸ“– ç”µå­ä¹¦ç¿»è¯‘ï¼ˆå°è¯´ã€æ•£æ–‡ç­‰ï¼‰
- ğŸ”¬ ç§‘ç ”æ–‡çŒ®ç¿»è¯‘ï¼ˆå«å¤æ‚æ•°å­¦å…¬å¼ï¼‰

---

## ä¸šç•ŒåŒç±»æ–¹æ¡ˆå¯¹æ¯”

### 1. æµè§ˆå™¨ç¿»è¯‘æ’ä»¶ï¼ˆæ²‰æµ¸å¼ç¿»è¯‘ï¼‰

| æ–¹æ¡ˆ | ä¼˜ç‚¹ | ç¼ºç‚¹ |
|------|------|------|
| **æ²‰æµ¸å¼ç¿»è¯‘** | æ–¹ä¾¿å¿«æ·ã€æ”¯æŒä»»ä½•ç½‘é¡µ | éœ€è¦ PDF åœ¨çº¿æ‰“å¼€ã€éœ€è¦ç½‘ç»œã€æ’ç‰ˆå¯èƒ½é”™ä¹± |
| **Google ç¿»è¯‘** | å…è´¹ã€æ”¯æŒè¯­è¨€å¤š | æ’ç‰ˆç ´åä¸¥é‡ã€å…¬å¼ä¸¢å¤± |
| **DeepL** | ç¿»è¯‘è´¨é‡é«˜ | éœ€è¦ä¸Šä¼ æ–‡ä»¶ã€éšç§é£é™©ã€å¤§å°é™åˆ¶ |

### 2. ä¸“ä¸š PDF ç¿»è¯‘è½¯ä»¶

| è½¯ä»¶ | ä»·æ ¼ | ä¼˜ç‚¹ | ç¼ºç‚¹ |
|------|------|------|
| **ABBYY FineReader** | æ”¶è´¹ | OCR å¼ºã€ç¿»è¯‘å‡†ç¡® | è´µã€æ’ç‰ˆä¿ç•™ä¸€èˆ¬ |
| **Adobe Acrobat Pro** | æ”¶è´¹ | åŸç”Ÿ PDF æ”¯æŒ | ä»·æ ¼æ˜‚è´µã€ç¿»è¯‘å¼•æ“ä¸€èˆ¬ |
| **Foxit PhantomPDF** | æ”¶è´¹ | æ€§ä»·æ¯”é«˜ | æ ¼å¼ä¿ç•™ä¸å®Œç¾ |
| **Trados** | æ”¶è´¹ | ä¸“ä¸šæœ¯è¯­ç®¡ç† | å­¦ä¹ æˆæœ¬é«˜ã€æ˜‚è´µ |

### 3. åœ¨çº¿ç¿»è¯‘æœåŠ¡

| æœåŠ¡ | ä»·æ ¼ | ä¼˜ç‚¹ | ç¼ºç‚¹ |
|------|------|------|------|
| **Google æ–‡æ¡£ç¿»è¯‘** | å…è´¹ | å…è´¹ã€æ–¹ä¾¿ | éœ€ä¸Šä¼ æ–‡ä»¶ã€éšç§é£é™© |
| **DeepL ç¿»è¯‘** | å…è´¹ç‰ˆæœ‰é™ | è´¨é‡é«˜ | æ–‡ä»¶å¤§å°é™åˆ¶ã€æ’ç‰ˆé—®é¢˜ |
| **æœ‰é“ç¿»è¯‘** | å…è´¹ | ä¸­æ–‡ä¼˜åŒ–å¥½ | å…¬å¼ç¿»è¯‘å·® |
| **ç™¾åº¦ç¿»è¯‘** | å…è´¹ | å…è´¹é¢åº¦å¤§ | æŠ€æœ¯æ–‡æ¡£è´¨é‡ä¸€èˆ¬ |

### 4. å¼€æºé¡¹ç›®

| é¡¹ç›® | è¯­è¨€ | ä¼˜ç‚¹ | ç¼ºç‚¹ |
|------|------|------|------|
| **PDFMathTranslate** | Python | ä¿ç•™å…¬å¼ã€å¼€æº | éœ€è¦é…ç½®ã€å‘½ä»¤è¡Œ |
| **BabelDOC** | Python | æ’ç‰ˆä¿ç•™å¥½ | æ–‡æ¡£è¾ƒå°‘ |
| **TransPDF** | åœ¨çº¿ | ç®€å• | æ”¶è´¹ã€ä¸å…è´¹ |
| **Omnivore** | Web | å¤šæ ¼å¼ | ç¿»è¯‘è´¨é‡ä¸€èˆ¬ |

### æœ¬é¡¹ç›®ä¼˜åŠ¿å¯¹æ¯”

| ç‰¹æ€§ | æœ¬é¡¹ç›® | æ²‰æµ¸å¼ç¿»è¯‘ | Adobe Acrobat | Google ç¿»è¯‘ |
|------|--------|-------------|--------------|-------------|
| **æ’ç‰ˆä¿ç•™** | â­â­â­â­â­ | â­â­ | â­â­â­â­ | â­ |
| **å…¬å¼ä¿ç•™** | â­â­â­â­â­ | â­ | â­â­â­ | â­ |
| **åŒè¯­å¯¹ç…§** | â­â­â­â­â­ | â­â­â­â­ | â­â­ | â­ |
| **å®Œå…¨å…è´¹** | â­â­â­â­â­ | â­â­â­â­â­ | â­ | â­â­â­â­â­ |
| **æœ¬åœ°å¤„ç†** | â­â­â­â­â­ | â­â­ | â­â­â­â­â­ | â­ |
| **æ‰¹é‡å¤„ç†** | â­â­â­â­â­ | â­â­ | â­â­â­â­ | â­ |
| **æœ¯è¯­æå–** | â­â­â­â­â­ | â­ | â­â­ | â­ |

---

## é¡¹ç›®å®ç°åŸç†

### æŠ€æœ¯æ¶æ„

æœ¬é¡¹ç›®åŸºäºä¸¤ä¸ªæˆç†Ÿçš„ GitHub å¼€æºé¡¹ç›®ï¼š

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    PDF ç¿»è¯‘å·¥å…·                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚  å‘½ä»¤è¡Œå·¥å…·  â”‚â”€â”€â”€>â”‚ æ ¸å¿ƒç¿»è¯‘å¼•æ“ â”‚â”€â”€â”€>â”‚ APIè°ƒç”¨ â”‚ â”‚
â”‚  â”‚ translate_  â”‚    â”‚ pdf_translatorâ”‚    â”‚ (ç«å±±/ â”‚ â”‚
â”‚  â”‚ pdf.py      â”‚    â”‚              â”‚    â”‚ æ™ºè°±/ â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚ OpenAI) â”‚ â”‚
â”‚                                          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                 â–¼     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚         pdf2zh-next (æ ¸å¿ƒç¿»è¯‘åº“)             â”‚    â”‚
â”‚  â”‚  - PDF è§£æ                                 â”‚    â”‚
â”‚  â”‚  - æ®µè½æå–                                 â”‚    â”‚
â”‚  â”‚  - å…¬å¼è¯†åˆ«                                 â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                        â–¼                            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚         BabelDOC (PDF å¤„ç†åº“)              â”‚    â”‚
â”‚  â”‚  - å¸ƒå±€åˆ†æ                                 â”‚    â”‚
â”‚  â”‚  - PDF ç”Ÿæˆ                                 â”‚    â”‚
â”‚  â”‚  - æ’ç‰ˆä¿æŒ                                 â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                        â–¼                            â”‚
â”‚              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                       â”‚
â”‚              â”‚  è¾“å‡º PDF æ–‡ä»¶  â”‚                       â”‚
â”‚              â”‚ - åŒè¯­å¯¹ç…§ç‰ˆ    â”‚                       â”‚
â”‚              â”‚ - å•è¯­ç‰ˆ        â”‚                       â”‚
â”‚              â”‚ - æœ¯è¯­è¡¨        â”‚                       â”‚
â”‚              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### æ ¸å¿ƒä¾èµ–

| ä¾èµ– | ç‰ˆæœ¬ | ç”¨é€” |
|------|------|------|
| **pdf2zh-next** | >=0.1.0 | æ ¸å¿ƒç¿»è¯‘å¼•æ“ |
| **PyMuPDF** | >=1.23.0 | PDF è§£æå’Œå¤„ç† |
| **pydantic** | >=2.0.0 | é…ç½®éªŒè¯ |
| **configargparse** | >=1.5.0 | å‘½ä»¤è¡Œå‚æ•°è§£æ |
| **rich** | >=13.0.0 | ç»ˆç«¯ç¾åŒ–è¾“å‡º |
| **tqdm** | >=4.65.0 | è¿›åº¦æ¡æ˜¾ç¤º |
| **asyncio** | (stdlib) | å¼‚æ­¥å¹¶å‘å¤„ç† |

### ç¿»è¯‘æµç¨‹

```
1. PDF è§£æ
   â””â”€> æå–æ–‡æœ¬ã€å›¾ç‰‡ã€å…¬å¼ã€è¡¨æ ¼
   â””â”€> è¯†åˆ«æ–‡æ¡£å¸ƒå±€ç»“æ„
   â””â”€> æå–å­—ä½“å’Œæ ·å¼ä¿¡æ¯

2. å†…å®¹åˆ†æ®µ
   â””â”€> æŒ‰æ®µè½åˆ†å‰²æ–‡æœ¬
   â””â”€> è¯†åˆ«å…¬å¼åŒºåŸŸ
   â””â”€> æ ‡è®°è¡¨æ ¼å’Œå›¾ç‰‡

3. æœ¯è¯­æå–
   â””â”€> è‡ªåŠ¨è¯†åˆ«ä¸“ä¸šæœ¯è¯­
   â””â”€> ç”Ÿæˆæœ¯è¯­è¯æ±‡è¡¨
   â””â”€> æœ¯è¯­ä¸€è‡´æ€§æ£€æŸ¥

4. ç¿»è¯‘å¤„ç†
   â””â”€> å¹¶å‘è°ƒç”¨ç¿»è¯‘ API
   â””â”€> ä¿ç•™æ ¼å¼æ ‡è®°
   â””â”€> æœ¯è¯­æ›¿æ¢

5. PDF é‡å»º
   â””â”€> é‡æ–°å¸ƒå±€å†…å®¹
   â””â”€> åŒè¯­å¯¹ç…§æ’ç‰ˆ
   â””â”€> åµŒå…¥å­—ä½“å’Œå›¾ç‰‡
   â””â”€> ç”Ÿæˆæœ€ç»ˆ PDF
```

---

## å®‰è£…é…ç½®

### ç³»ç»Ÿè¦æ±‚

- **æ“ä½œç³»ç»Ÿ**: Windows / macOS / Linux
- **Python ç‰ˆæœ¬**: 3.8+ï¼ˆæ¨è 3.13+ï¼‰
- **å†…å­˜**: æœ€ä½ 4GBï¼ˆå¤„ç†å¤§æ–‡æ¡£éœ€è¦ 8GB+ï¼‰
- **ç½‘ç»œ**: éœ€è¦è¿æ¥äº’è”ç½‘ï¼ˆè°ƒç”¨ç¿»è¯‘ APIï¼‰

### å®‰è£…æ­¥éª¤

#### 1. å…‹éš†æˆ–ä¸‹è½½é¡¹ç›®

```bash
# å¦‚æœæœ‰ git
git clone <repository-url>
cd pdf-translation

# æˆ–ç›´æ¥ä¸‹è½½è§£å‹
```

#### 2. å®‰è£… Python ä¾èµ–

```bash
pip install -r requirements.txt
```

å¦‚æœé‡åˆ°æƒé™é—®é¢˜ï¼Œä½¿ç”¨ï¼š

```bash
pip install -r requirements.txt --user
```

#### 3. éªŒè¯å®‰è£…

```bash
python translate_pdf.py --help
```

å¦‚æœçœ‹åˆ°å¸®åŠ©ä¿¡æ¯ï¼Œè¯´æ˜å®‰è£…æˆåŠŸã€‚

---

## å¿«é€Ÿå¼€å§‹

### ç¬¬ä¸€æ­¥ï¼šé€‰æ‹©ç¿»è¯‘å¼•æ“

#### æ–¹æ¡ˆ Aï¼šæ™ºè°± AIï¼ˆæ¨èï¼Œå®Œå…¨å…è´¹ï¼‰

1. æ³¨å†Œè´¦å·ï¼šhttps://open.bigmodel.cnï¼ˆå…è´¹ï¼Œ5 åˆ†é’Ÿå®Œæˆï¼‰
2. ç™»å½•æ§åˆ¶å°
3. ç‚¹å‡»"APIå¯†é’¥" -> "åˆ›å»ºæ–°å¯†é’¥"
4. å¤åˆ¶ API å¯†é’¥

#### æ–¹æ¡ˆ Bï¼šç«å±±å¼•æ“è±†åŒ…ï¼ˆå·²è®¢é˜… PROï¼‰

1. ç™»å½•æ§åˆ¶å°ï¼šhttps://console.volcengine.com/ark
2. æŸ¥çœ‹æ¨ç†æ¥å…¥ç‚¹ï¼ˆEndpointï¼‰
3. å¤åˆ¶ API å¯†é’¥å’Œæ¨¡å‹ ID

#### æ–¹æ¡ˆ Cï¼šç¡…åŸºæµåŠ¨ DeepSeek

1. æ³¨å†Œè´¦å·ï¼šhttps://siliconflow.cn
2. åˆ›å»º API å¯†é’¥
3. é€‰æ‹© DeepSeek-V3 æ¨¡å‹

### ç¬¬äºŒæ­¥ï¼šé…ç½® API å¯†é’¥

#### ä½¿ç”¨æ™ºè°± AI

```bash
cp config/config.zhipu.json config/config.json
```

ç¼–è¾‘ `config/config.json`ï¼š

```json
{
  "translation_engine": "openai",
  "openai_api_key": "ä½ çš„æ™ºè°±AIå¯†é’¥",
  "openai_base_url": "https://open.bigmodel.cn/api/paas/v4",
  "openai_model": "glm-4-flash",
  "qps": 4,
  "min_text_length": 5,
  "debug": false
}
```

#### ä½¿ç”¨ç«å±±å¼•æ“

```bash
cp config/config.volcengine.json config/config.json
```

ç¼–è¾‘ `config/config.json`ï¼š

```json
{
  "translation_engine": "openai",
  "openai_api_key": "ä½ çš„ç«å±±å¼•æ“å¯†é’¥",
  "openai_base_url": "https://ark.cn-beijing.volces.com/api/coding/v3",
  "openai_model": "doubao-seed-code",
  "qps": 16,
  "min_text_length": 5,
  "debug": false
}
```

### ç¬¬ä¸‰æ­¥ï¼šç¿»è¯‘ PDF

#### åŸºæœ¬ç¿»è¯‘

```bash
python translate_pdf.py \
    --input "ä½ çš„æ–‡ä»¶.pdf" \
    --output "./output"
```

#### æŒ‡å®šè¯­è¨€

```bash
python translate_pdf.py \
    --input "ä½ çš„æ–‡ä»¶.pdf" \
    --output "./output" \
    --lang-in en \
    --lang-out zh
```

### ç¬¬å››æ­¥ï¼šæŸ¥çœ‹ç»“æœ

ç¿»è¯‘å®Œæˆåï¼Œè¾“å‡ºç›®å½•ä¼šç”Ÿæˆï¼š

- `<æ–‡ä»¶å>.zh.dual.pdf` - **åŒè¯­å¯¹ç…§ç‰ˆ PDF**ï¼ˆæ¨èï¼‰
- `<æ–‡ä»¶å>.zh.glossary.csv` - æœ¯è¯­è¡¨

---

## è¯¦ç»†ä½¿ç”¨æŒ‡å—

### å‘½ä»¤è¡Œå‚æ•°è¯´æ˜

#### å¿…éœ€å‚æ•°

| å‚æ•° | ç®€å†™ | è¯´æ˜ | ç¤ºä¾‹ |
|------|------|------|------|
| `--input` | `-i` | è¾“å…¥ PDF æ–‡ä»¶è·¯å¾„ | `--input doc.pdf` |

#### å¯é€‰å‚æ•°

| å‚æ•° | ç®€å†™ | é»˜è®¤å€¼ | è¯´æ˜ |
|------|------|--------|------|
| `--output` | `-o` | PDF æ‰€åœ¨ç›®å½• | è¾“å‡ºç›®å½•è·¯å¾„ |
| `--config` | `-c` | `config/config.json` | é…ç½®æ–‡ä»¶è·¯å¾„ |
| `--lang-in` | `-li` | `en` | æºè¯­è¨€ä»£ç  |
| `--lang-out` | `-lo` | `zh` | ç›®æ ‡è¯­è¨€ä»£ç  |
| `--no-dual` | - | `False` | ä¸ç”ŸæˆåŒè¯­ç‰ˆ PDF |
| `--no-mono` | - | `False` | ä¸ç”Ÿæˆå•è¯­ç‰ˆ PDF |
| `--watermark` | - | `watermarked` | æ°´å°æ¨¡å¼ï¼š`watermarked`/`no_watermark`/`both` |
| `--pages` | - | å…¨éƒ¨é¡µ | ç¿»è¯‘ç‰¹å®šé¡µç ï¼Œå¦‚ `1,2,1-,-3,3-5` |
| `--max-pages-per-part` | - | æ— é™åˆ¶ | åˆ†æ‰¹å¤„ç†æ—¶æ¯æ‰¹æœ€å¤§é¡µæ•°ï¼ˆæœ€å° 50ï¼‰ |
| `--enhance-compatibility` | - | `False` | å¯ç”¨å…¼å®¹æ€§å¢å¼ºé€‰é¡¹ |
| `--create-config` | - | `False` | åˆ›å»ºç¤ºä¾‹é…ç½®æ–‡ä»¶ |

### é…ç½®æ–‡ä»¶å‚æ•°

| å‚æ•° | é»˜è®¤å€¼ | è¯´æ˜ |
|------|--------|------|
| `translation_engine` | `openai` | ç¿»è¯‘å¼•æ“ç±»å‹ |
| `openai_api_key` | - | API å¯†é’¥ï¼ˆå¿…éœ€ï¼‰ |
| `openai_base_url` | `https://api.openai.com/v1` | API åŸºç¡€ URL |
| `openai_model` | `gpt-4o-mini` | æ¨¡å‹åç§° |
| `qps` | `4` | æ¯ç§’å¹¶å‘è¯·æ±‚æ•° |
| `min_text_length` | `5` | æœ€å°æ–‡æœ¬é•¿åº¦ï¼ˆä½äºæ­¤å€¼ä¸ç¿»è¯‘ï¼‰ |
| `debug` | `false` | è°ƒè¯•æ¨¡å¼ |
| `custom_system_prompt` | `null` | è‡ªå®šä¹‰ç³»ç»Ÿæç¤ºè¯ |
| `enable_term_extraction` | `false` | å¯ç”¨æœ¯è¯­æå– |
| `page_markdown` | `false` | ç”Ÿæˆé¡µé¢ Markdown |

### å¸¸ç”¨å‘½ä»¤ç¤ºä¾‹

#### åªç¿»è¯‘ç‰¹å®šé¡µé¢

```bash
python translate_pdf.py \
    --input "document.pdf" \
    --output "./output" \
    --pages "1-5,10,15-20"
```

#### åªç”ŸæˆåŒè¯­ç‰ˆï¼Œä¸ç”Ÿæˆå•è¯­ç‰ˆ

```bash
python translate_pdf.py \
    --input "document.pdf" \
    --output "./output" \
    --no-mono
```

#### ç”Ÿæˆæ— æ°´å°ç‰ˆæœ¬

```bash
python translate_pdf.py \
    --input "document.pdf" \
    --output "./output" \
    --watermark no_watermark
```

#### åŒæ—¶ç”Ÿæˆå¸¦æ°´å°å’Œæ— æ°´å°ç‰ˆæœ¬

```bash
python translate_pdf.py \
    --input "document.pdf" \
    --output "./output" \
    --watermark both
```

#### å¤„ç†å¤§æ–‡æ¡£ï¼ˆåˆ†æ‰¹å¤„ç†ï¼‰

```bash
python translate_pdf.py \
    --input "large_document.pdf" \
    --output "./output" \
    --max-pages-per-part 50
```

#### å¯ç”¨æœ¯è¯­æå–

å…ˆç¼–è¾‘é…ç½®æ–‡ä»¶ï¼š

```json
{
  "enable_term_extraction": true
}
```

ç„¶åè¿è¡Œç¿»è¯‘ã€‚

---

## ç¿»è¯‘å¼•æ“é…ç½®

### æ™ºè°± AIï¼ˆæ¨èï¼Œå®Œå…¨å…è´¹ï¼‰

**ç‰¹ç‚¹**ï¼š
- âœ… å®Œå…¨å…è´¹ï¼Œæ— éœ€ä»˜è´¹
- âœ… ç¿»è¯‘è´¨é‡ä¼˜ç§€ï¼Œä¸“ä¸ºä¸­è‹±æ–‡ä¼˜åŒ–
- âœ… å“åº”é€Ÿåº¦å¿«
- âœ… æ”¯æŒé•¿æ–‡æ¡£ï¼ˆ128K ä¸Šä¸‹æ–‡ï¼‰

**é…ç½®**ï¼š

```json
{
  "translation_engine": "openai",
  "openai_api_key": "ä½ çš„å¯†é’¥",
  "openai_base_url": "https://open.bigmodel.cn/api/paas/v4",
  "openai_model": "glm-4-flash",
  "qps": 8
}
```

**æ¨¡å‹é€‰æ‹©**ï¼š
- `glm-4-flash` - é€Ÿåº¦å¿«ï¼Œæ¨èç”¨äºç¿»è¯‘
- `glm-4-air` - å¹³è¡¡è´¨é‡å’Œé€Ÿåº¦
- `glm-4-plus` - è´¨é‡æœ€é«˜ï¼Œé€Ÿåº¦è¾ƒæ…¢

### ç«å±±å¼•æ“è±†åŒ…ï¼ˆå·²è®¢é˜… PROï¼‰

**ç‰¹ç‚¹**ï¼š
- âœ… ä½ å·²è®¢é˜… PRO å¥—é¤ï¼Œç›´æ¥ä½¿ç”¨
- âœ… ç¿»è¯‘è´¨é‡ä¼˜ç§€
- âœ… æ€§ä»·æ¯”é«˜
- âœ… ä¸­æ–‡ä¼˜åŒ–

**é…ç½®**ï¼š

```json
{
  "translation_engine": "openai",
  "openai_api_key": "ä½ çš„å¯†é’¥",
  "openai_base_url": "https://ark.cn-beijing.volces.com/api/coding/v3",
  "openai_model": "doubao-seed-code",
  "qps": 16
}
```

**è·å–é…ç½®**ï¼š
1. ç™»å½•ç«å±±å¼•æ“æ§åˆ¶å°
2. è¿›å…¥"å¤§æ¨¡å‹æ¨ç†" -> "æ¨ç†æ¥å…¥ç‚¹"
3. åˆ›å»ºæˆ–æŸ¥çœ‹å·²æœ‰ Endpoint
4. å¤åˆ¶ API Key å’Œ Endpoint ID

### ç¡…åŸºæµåŠ¨ DeepSeek

**ç‰¹ç‚¹**ï¼š
- âœ… æ–°ç”¨æˆ·æœ‰å…è´¹ Token é¢åº¦
- âœ… DeepSeek-V3 è´¨é‡ä¼˜ç§€
- âœ… ä»·æ ¼ä¾¿å®œ

**é…ç½®**ï¼š

```json
{
  "translation_engine": "openai",
  "openai_api_key": "ä½ çš„å¯†é’¥",
  "openai_base_url": "https://api.siliconflow.cn/v1",
  "openai_model": "deepseek-ai/DeepSeek-V3",
  "qps": 8
}
```

### OpenAI

**ç‰¹ç‚¹**ï¼š
- âœ… è´¨é‡æœ€é«˜
- âœ… æœåŠ¡ç¨³å®š
- âš ï¸ éœ€è¦ä»˜è´¹

**é…ç½®**ï¼š

```json
{
  "translation_engine": "openai",
  "openai_api_key": "sk-...",
  "openai_base_url": "https://api.openai.com/v1",
  "openai_model": "gpt-4o-mini",
  "qps": 8
}
```

**æ¨¡å‹é€‰æ‹©**ï¼š
- `gpt-4o-mini` - é€Ÿåº¦å¿«ï¼Œä»·æ ¼ä¾¿å®œï¼Œæ¨è
- `gpt-4o` - è´¨é‡æœ€é«˜ï¼Œä»·æ ¼è¾ƒé«˜
- `gpt-4-turbo` - æ€§ä»·æ¯”é«˜

---

## æ€§èƒ½ä¼˜åŒ–

### æé«˜ç¿»è¯‘é€Ÿåº¦

#### 1. å¢åŠ  QPSï¼ˆå¹¶å‘æ•°ï¼‰

ç¼–è¾‘ `config.json`ï¼š

```json
{
  "qps": 16  // ä» 4 å¢åŠ åˆ° 16
}
```

**æ³¨æ„**ï¼šQPS è¿‡é«˜å¯èƒ½è§¦å‘ API é™æµï¼Œå»ºè®®æ ¹æ®å®é™…æ•ˆæœè°ƒæ•´ã€‚

#### 2. ä½¿ç”¨æ›´å¿«çš„æ¨¡å‹

| æ¨¡å‹ | é€Ÿåº¦ | è´¨é‡ | æ¨èåº¦ |
|------|------|------|--------|
| glm-4-flash | â­â­â­â­â­ | â­â­â­â­ | â­â­â­â­â­ |
| gpt-4o-mini | â­â­â­â­ | â­â­â­â­â­ | â­â­â­â­ |
| doubao-seed-code | â­â­â­â­â­ | â­â­â­â­â­ | â­â­â­â­â­ |

#### 3. å‡å°‘è¾“å‡ºæ–‡ä»¶

åªç”ŸæˆåŒè¯­ç‰ˆï¼Œä¸ç”Ÿæˆå•è¯­ç‰ˆï¼š

```bash
python translate_pdf.py \
    --input "document.pdf" \
    --output "./output" \
    --no-mono
```

#### 4. åˆ†æ‰¹å¤„ç†å¤§æ–‡æ¡£

```bash
python translate_pdf.py \
    --input "large_document.pdf" \
    --output "./output" \
    --max-pages-per-part 50
```

**æ€§èƒ½å¯¹æ¯”ç¤ºä¾‹**ï¼ˆ730 é¡µæ–‡æ¡£ï¼‰ï¼š

| é…ç½® | è€—æ—¶ | æå‡ |
|------|------|------|
| æ™ºè°±AI, QPS=4, ä¸åˆ†æ‰¹ | ~8-12 å°æ—¶ | åŸºå‡† |
| æ™ºè°±AI, QPS=16, åˆ†æ‰¹50é¡µ | ~2-3 å°æ—¶ | 3-4x |
| ç«å±±å¼•æ“, QPS=16, åˆ†æ‰¹50é¡µ | **~1.5 å°æ—¶** | **5-6x** |

### å†…å­˜ä¼˜åŒ–

ç¿»è¯‘å¤§æ–‡æ¡£æ—¶å†…å­˜ä½¿ç”¨è¾ƒé«˜ï¼Œå¯ä»¥ï¼š

1. **å‡å°‘ `max-pages-per-part`**ï¼šä» 50 é™åˆ° 30
2. **å…³é—­æœ¯è¯­æå–**ï¼šè®¾ç½® `enable_term_extraction: false`
3. **å¢åŠ ç³»ç»Ÿå†…å­˜**ï¼šæ¨è 8GB+ å¯ç”¨å†…å­˜

### ç½‘ç»œä¼˜åŒ–

1. ä½¿ç”¨ç¨³å®šçš„ç½‘ç»œè¿æ¥
2. å¦‚æœåœ¨æµ·å¤–ï¼Œå»ºè®®ä½¿ç”¨å›½å†… APIï¼ˆæ™ºè°±ã€ç«å±±ï¼‰
3. å¼€å¯ API è°ƒç”¨ç¼“å­˜ï¼ˆè‡ªåŠ¨ï¼‰

---

## å¸¸è§é—®é¢˜

### å®‰è£…é—®é¢˜

#### Q1: `pip install` å¤±è´¥

**è§£å†³æ–¹æ¡ˆ**ï¼š

```bash
# å‡çº§ pip
python -m pip install --upgrade pip

# ä½¿ç”¨å›½å†…é•œåƒ
pip install -r requirements.txt -i https://pypi.tuna.tsinghua.edu.cn/simple
```

#### Q2: æç¤ºæ‰¾ä¸åˆ° `pdf2zh_next` æ¨¡å—

**è§£å†³æ–¹æ¡ˆ**ï¼š

```bash
pip install -r requirements.txt --upgrade
```

### é…ç½®é—®é¢˜

#### Q3: API å¯†é’¥æ— æ•ˆ

**æ£€æŸ¥æ­¥éª¤**ï¼š
1. API å¯†é’¥æ˜¯å¦å¤åˆ¶æ­£ç¡®
2. è´¦å·æ˜¯å¦å·²æ¿€æ´»
3. API é…é¢æ˜¯å¦å……è¶³
4. ç½‘ç»œæ˜¯å¦èƒ½è®¿é—® API

#### Q4: ç¿»è¯‘å¼•æ“ä¸æ”¯æŒ

**å½“å‰æ”¯æŒçš„å¼•æ“**ï¼š
- `openai`ï¼ˆæ‰€æœ‰ OpenAI å…¼å®¹çš„ APIï¼‰

**é…ç½®é”™è¯¯ç¤ºä¾‹**ï¼š

```json
{
  "translation_engine": "other"  // é”™è¯¯
}
```

**æ­£ç¡®é…ç½®**ï¼š

```json
{
  "translation_engine": "openai"  // æ­£ç¡®ï¼Œæ‰€æœ‰å¼•æ“éƒ½ç”¨è¿™ä¸ª
}
```

### ç¿»è¯‘é—®é¢˜

#### Q5: ç¿»è¯‘é€Ÿåº¦æ…¢

**è§£å†³æ–¹æ¡ˆ**ï¼š
1. å¢åŠ  `qps` å€¼ï¼ˆå¦‚ä» 4 å¢åŠ åˆ° 16ï¼‰
2. ä½¿ç”¨æ›´å¿«çš„æ¨¡å‹ï¼ˆå¦‚ `glm-4-flash`ï¼‰
3. ä½¿ç”¨ `--max-pages-per-part` åˆ†æ‰¹å¤„ç†
4. æ£€æŸ¥ç½‘ç»œè¿æ¥

#### Q6: ç¿»è¯‘è´¨é‡ä¸ç†æƒ³

**è§£å†³æ–¹æ¡ˆ**ï¼š
1. å°è¯•ä¸åŒçš„æ¨¡å‹
2. ä½¿ç”¨è‡ªå®šä¹‰ç³»ç»Ÿæç¤ºè¯ï¼š

```json
{
  "custom_system_prompt": "ä½ æ˜¯ä¸€åä¸“ä¸šçš„æŠ€æœ¯æ–‡æ¡£ç¿»è¯‘å‘˜ï¼Œè¯·å‡†ç¡®ç¿»è¯‘ä»¥ä¸‹å†…å®¹ï¼Œä¿æŒä¸“ä¸šæœ¯è¯­çš„ä¸€è‡´æ€§ã€‚"
}
```

3. å¯ç”¨æœ¯è¯­æå–å¹¶æ£€æŸ¥æœ¯è¯­è¡¨

#### Q7: æ’ç‰ˆé”™ä¹±

**å¯èƒ½åŸå› **ï¼š
1. PDF æ˜¯æ‰«æç‰ˆï¼ˆä¸æ”¯æŒï¼‰
2. ç‰¹æ®Šå­—ä½“æœªåµŒå…¥
3. è¡¨æ ¼ç»“æ„è¿‡äºå¤æ‚

**è§£å†³æ–¹æ¡ˆ**ï¼š
- ä½¿ç”¨å¯ç¼–è¾‘çš„ PDFï¼ˆéæ‰«æç‰ˆï¼‰
- å¯ç”¨ `--enhance-compatibility` é€‰é¡¹

#### Q8: å…¬å¼æ˜¾ç¤ºé”™è¯¯

**åŸå› **ï¼šæŸäº›æ•°å­¦å…¬å¼å¯èƒ½æ— æ³•å®Œç¾ä¿ç•™

**è§£å†³æ–¹æ¡ˆ**ï¼š
- æ£€æŸ¥åŸæ–‡å…¬å¼æ˜¯å¦æ­£ç¡®
- ä½¿ç”¨æ”¯æŒæ•°å­¦å…¬å¼çš„æ¨¡å‹
- æ‰‹åŠ¨è°ƒæ•´ç”Ÿæˆ PDF ä¸­çš„å…¬å¼

### å¤§æ–‡æ¡£å¤„ç†

#### Q9: å†…å­˜ä¸è¶³

**è§£å†³æ–¹æ¡ˆ**ï¼š
```bash
python translate_pdf.py \
    --input "large_document.pdf" \
    --output "./output" \
    --max-pages-per-part 30  # å‡å°‘æ¯æ‰¹é¡µæ•°
```

#### Q10: ç¿»è¯‘ä¸­æ–­æ€ä¹ˆåŠ

**å½“å‰ç‰ˆæœ¬**ï¼šå¦‚æœä¸­æ–­ï¼Œéœ€è¦é‡æ–°ç¿»è¯‘

**å»ºè®®**ï¼š
- ä½¿ç”¨ç¨³å®šçš„ç½‘ç»œ
- åˆ†æ‰¹å¤„ç†ï¼ˆ`--max-pages-per-part`ï¼‰
- ç¡®ä¿ç”µæºä¾›åº”ç¨³å®š

---

## é™„å½•

### æ”¯æŒçš„è¯­è¨€

åŸºäºç¿»è¯‘å¼•æ“çš„ä¸åŒï¼Œæ”¯æŒçš„è¯­è¨€å¯¹ä¹Ÿä¸åŒï¼š

**æ™ºè°± AI**ï¼šä¸­ã€è‹±ã€æ—¥ã€éŸ©ã€æ³•ã€å¾·ã€ä¿„ç­‰ 26 ç§è¯­è¨€

**ç«å±±å¼•æ“**ï¼šä¸­ã€è‹±ã€æ—¥ç­‰ä¸»æµè¯­è¨€

**DeepSeek**ï¼šæ”¯æŒä¸­è‹±æ–‡ç¿»è¯‘ä¼˜åŒ–

**OpenAI**ï¼šæ”¯æŒ 50+ ç§è¯­è¨€

### è¯­è¨€ä»£ç å‚è€ƒ

| è¯­è¨€ | ä»£ç  |
|------|------|
| ä¸­æ–‡ï¼ˆç®€ä½“ï¼‰ | `zh` / `zh-CN` |
| è‹±æ–‡ | `en` / `en-US` |
| æ—¥æ–‡ | `ja` |
| éŸ©æ–‡ | `ko` |
| æ³•æ–‡ | `fr` |
| å¾·æ–‡ | `de` |
| ä¿„æ–‡ | `ru` |
| è¥¿ç­ç‰™æ–‡ | `es` |

### è¾“å‡ºæ–‡ä»¶è¯´æ˜

| æ–‡ä»¶ | è¯´æ˜ | æ¨èç”¨é€” |
|------|------|----------|
| `<æ–‡ä»¶å>.zh.dual.pdf` | åŒè¯­å¯¹ç…§ PDF | å­¦ä¹ ã€å¯¹ç…§ã€æŠ€æœ¯æ–‡æ¡£ |
| `<æ–‡ä»¶å>.zh.mono.pdf` | å•è¯­ PDF | çº¯é˜…è¯» |
| `<æ–‡ä»¶å>.zh.dual.no-watermark.pdf` | æ— æ°´å°åŒè¯­ PDF | æ­£å¼ä½¿ç”¨ |
| `<æ–‡ä»¶å>.zh.mono.no-watermark.pdf` | æ— æ°´å°å•è¯­ PDF | æ­£å¼ä½¿ç”¨ |
| `<æ–‡ä»¶å>.glossary.csv` | æœ¯è¯­è¡¨ | æœ¯è¯­ç®¡ç†ã€è´¨é‡æ£€æŸ¥ |

### å‚è€ƒèµ„æº

**GitHub å¼€æºé¡¹ç›®**ï¼š
- [PDFMathTranslate-next](https://github.com/Byaidu/PDFMathTranslate) - æ ¸å¿ƒç¿»è¯‘åº“
- [BabelDOC](https://github.com/Renyz/PDFMathTranslate) - PDF å¤„ç†åº“

**API æ–‡æ¡£**ï¼š
- [æ™ºè°± AI](https://open.bigmodel.cn/dev/api) - å¼€æ”¾å¹³å°æ–‡æ¡£
- [ç«å±±å¼•æ“](https://www.volcengine.com/docs/82379) - å¤§æ¨¡å‹æ¨ç†æ–‡æ¡£
- [OpenAI](https://platform.openai.com/docs) - å®˜æ–¹æ–‡æ¡£

**å·¥å…·**ï¼š
- [CLAUDE.md](../CLAUDE.md) - é¡¹ç›®æŒ‡å—ï¼ˆé¢å‘å¼€å‘è€…ï¼‰
- [requirements.txt](../requirements.txt) - ä¾èµ–åˆ—è¡¨

### è´¡çŒ®

å¦‚æœä½ é‡åˆ°é—®é¢˜æˆ–æœ‰æ”¹è¿›å»ºè®®ï¼š

1. æŸ¥çœ‹ç°æœ‰æ–‡æ¡£
2. æ£€æŸ¥å¸¸è§é—®é¢˜
3. æäº¤ Issue æˆ– Pull Request

### è®¸å¯è¯

æœ¬é¡¹ç›®åŸºäºä»¥ä¸‹å¼€æºé¡¹ç›®å¼€å‘ï¼Œéµå¾ªç›¸åº”çš„å¼€æºè®¸å¯è¯ï¼š
- [PDFMathTranslate-next](https://github.com/Byaidu/PDFMathTranslate)
- [BabelDOC](https://github.com/Renyz/PDFMathTranslate)

---

## æ€»ç»“

æœ¬ PDF ç¿»è¯‘å·¥å…·æ˜¯ä¸€ä¸ªåŠŸèƒ½å¼ºå¤§ã€æ˜“äºä½¿ç”¨çš„å¼€æºå·¥å…·ï¼Œå…·æœ‰ä»¥ä¸‹ä¼˜åŠ¿ï¼š

âœ… **å®Œå…¨å…è´¹** - ä½¿ç”¨æ™ºè°± AI ç­‰ APIï¼Œæˆæœ¬ä½å»‰
âœ… **æ’ç‰ˆå®Œç¾** - ä¿ç•™å…¬å¼ã€è¡¨æ ¼ã€å›¾å½¢
âœ… **åŒè¯­å¯¹ç…§** - ä¾¿äºå­¦ä¹ å’Œå¯¹ç…§
âœ… **é«˜æ€§èƒ½** - æ”¯æŒé«˜å¹¶å‘å’Œåˆ†æ‰¹å¤„ç†
âœ… **æ˜“äºé…ç½®** - ç®€å•çš„é…ç½®æ–‡ä»¶å’Œå‘½ä»¤è¡Œç•Œé¢

**ç«‹å³å¼€å§‹ç¿»è¯‘ä½ çš„ PDF æ–‡æ¡£å§ï¼** ğŸš€
